<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Asigurarea Ta IdealƒÉ - AflƒÉ ce »õi se potrive»ôte √Æn mai pu»õin de 1 minut</title>
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
    }

    .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
    }

    .hero {
        text-align: center;
        color: white;
        margin-bottom: 40px;
        padding: 40px 20px;
    }

    .hero h1 {
        font-size: 3rem;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .hero p {
        font-size: 1.3rem;
        margin-bottom: 30px;
        opacity: 0.9;
    }

    .benefits {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-top: 30px;
        flex-wrap: wrap;
    }

    .benefit {
        background: rgba(255,255,255,0.2);
        padding: 20px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.3);
        text-align: center;
        flex: 1;
        min-width: 250px;
    }

    .benefit-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }

    .form-container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        margin-bottom: 40px;
    }

    .form-step {
        display: none;
    }

    .form-step.active {
        display: block;
        animation: slideIn 0.5s ease-in-out;
    }

    @keyframes slideIn {
        from { opacity: 0; transform: translateX(50px); }
        to { opacity: 1; transform: translateX(0); }
    }

    .step-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .step-counter {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px;
        font-weight: bold;
    }

    .form-group {
        margin-bottom: 25px;
    }

    label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
    }

    input, select {
        width: 100%;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 16px;
        transition: all 0.3s ease;
    }

    input:focus, select:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .checkbox-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 10px;
    }

    .checkbox-item {
        position: relative;
    }

    .checkbox-item input[type="checkbox"] {
        display: none;
    }

    .checkbox-item label {
        display: flex;
        align-items: center;
        padding: 15px 20px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
    }

    .checkbox-item label:hover {
        border-color: #667eea;
        background: #f8f9ff;
    }

    .checkbox-item input[type="checkbox"]:checked + label {
        border-color: #667eea;
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
    }

    .checkbox-item .icon {
        margin-right: 10px;
        font-size: 1.2rem;
    }

    .radio-group {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        justify-content: center;
    }

    .radio-item {
        flex: 1;
        min-width: 200px;
    }

    .radio-item input[type="radio"] {
        display: none;
    }

    .radio-item label {
        display: block;
        padding: 20px;
        border: 2px solid #e0e0e0;
        border-radius: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
    }

    .radio-item input[type="radio"]:checked + label {
        border-color: #667eea;
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
    }

    .btn {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
        margin-top: 20px;
    }

    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }

    .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }

    .btn-secondary {
        background: #6c757d;
        margin-right: 15px;
        width: auto;
    }

    .navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 30px;
    }

    .results {
        display: none;
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    }

    .results.show {
        display: block;
        animation: fadeIn 0.8s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .results-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .results-header h2 {
        color: #333;
        font-size: 2.5rem;
        margin-bottom: 15px;
    }

    .recommendation-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        border-radius: 15px;
        margin-bottom: 30px;
    }

    .recommendation-title {
        font-size: 1.8rem;
        margin-bottom: 15px;
        text-align: center;
    }

    .recommendation-details {
        font-size: 1.1rem;
        line-height: 1.8;
    }

    .bonus-section {
        background: #f8f9ff;
        padding: 30px;
        border-radius: 15px;
        margin: 30px 0;
        text-align: center;
        border: 2px dashed #667eea;
    }

    .bonus-section h3 {
        color: #667eea;
        margin-bottom: 15px;
    }

    .contact-section {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
    }

    .progress-bar {
        width: 100%;
        height: 6px;
        background: #e0e0e0;
        border-radius: 3px;
        margin-bottom: 30px;
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(45deg, #667eea, #764ba2);
        transition: width 0.5s ease;
        border-radius: 3px;
    }

    @media (max-width: 768px) {
        .hero h1 {
            font-size: 2rem;
        }

        .hero p {
            font-size: 1.1rem;
        }

        .benefits {
            flex-direction: column;
            gap: 20px;
        }

        .form-container {
            padding: 20px;
        }

        .radio-group {
            flex-direction: column;
        }

        .checkbox-group {
            grid-template-columns: 1fr;
        }
    }
  </style>
</head>
<body>
<div class="container">
  <!-- Hero Section -->
  <div class="hero">
    <h1>üè† Asigurarea Ta IdealƒÉ</h1>
    <p>CompleteazƒÉ formularul »ôi aflƒÉ ce tip de asigurare e ideal pentru tine ‚Äì √Æn func»õie de v√¢rstƒÉ, venit, stil de via»õƒÉ »ôi prioritƒÉ»õi.</p>
    <div class="benefits">
      <div class="benefit">
        <div class="benefit-icon">üéØ</div>
        <h3>Personalizare CompletƒÉ</h3>
        <p>RecomandƒÉri bazate pe profilul tƒÉu unic</p>
      </div>
      <div class="benefit">
        <div class="benefit-icon">üîí</div>
        <h3>Confiden»õialitate</h3>
        <p>Datele tale sunt protejate 100%</p>
      </div>
      <div class="benefit">
        <div class="benefit-icon">üí¨</div>
        <h3>Consultan»õƒÉ GratuitƒÉ</h3>
        <p>Specialist dedicat √Æn 24 ore</p>
      </div>
    </div>
  </div>

  <!-- Form Container -->
  <div class="form-container">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <form id="insuranceForm">
      <!-- Step 1: Age -->
      <div class="form-step active" id="step1">
        <div class="step-header">
          <div class="step-counter">1</div>
          <h2>Care este v√¢rsta ta?</h2>
        </div>
        <div class="form-group">
          <label for="age">V√¢rsta (ani)</label>
          <input type="number" id="age" name="age" min="18" max="100" required>
        </div>
        <div class="navigation">
          <div></div>
          <button type="button" class="btn" onclick="nextStep()">ContinuƒÉ</button>
        </div>
      </div>

      <!-- Step 2: Salary -->
      <div class="form-step" id="step2">
        <div class="step-header">
          <div class="step-counter">2</div>
          <h2>Care este salariul tƒÉu net lunar?</h2>
        </div>
        <div class="form-group">
          <label for="salary">Salariu net (RON)</label>
          <select id="salary" name="salary" required>
            <option value="">SelecteazƒÉ intervalul</option>
            <option value="sub1500">Sub 1.500 RON</option>
            <option value="1500-3000">1.500 - 3.000 RON</option>
            <option value="3000-5000">3.000 - 5.000 RON</option>
            <option value="5000-8000">5.000 - 8.000 RON</option>
            <option value="peste8000">Peste 8.000 RON</option>
          </select>
        </div>
        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="button" class="btn" onclick="nextStep()">ContinuƒÉ</button>
        </div>
      </div>

      <!-- Step 3: Interests -->
      <div class="form-step" id="step3">
        <div class="step-header">
          <div class="step-counter">3</div>
          <h2>Ce te intereseazƒÉ? (po»õi selecta mai multe)</h2>
        </div>
        <div class="form-group">
          <div class="checkbox-group">
            <div class="checkbox-item">
              <input type="checkbox" id="pensii" name="interests" value="pensii">
              <label for="pensii"><span class="icon">üí∞</span>Pensii Private</label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" id="vacanta" name="interests" value="vacanta">
              <label for="vacanta"><span class="icon">‚úàÔ∏è</span>AsigurƒÉri Vacan»õƒÉ</label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" id="sanatate" name="interests" value="sanatate">
              <label for="sanatate"><span class="icon">üè•</span>AsigurƒÉri SƒÉnƒÉtate</label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" id="viata" name="interests" value="viata">
              <label for="viata"><span class="icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>AsigurƒÉri de Via»õƒÉ</label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" id="locuinta" name="interests" value="locuinta">
              <label for="locuinta"><span class="icon">üè†</span>AsigurƒÉri Locuin»õƒÉ</label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" id="masina" name="interests" value="masina">
              <label for="masina"><span class="icon">üöó</span>AsigurƒÉri Auto</label>
            </div>
          </div>
        </div>
        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="button" class="btn" onclick="nextStep()">ContinuƒÉ</button>
        </div>
      </div>

      <!-- Step 4: Assets -->
      <div class="form-step" id="step4">
        <div class="step-header">
          <div class="step-counter">4</div>
          <h2>Ce de»õii √Æn prezent?</h2>
        </div>
        <div class="form-group">
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" id="masina_only" name="assets" value="masina" required>
              <label for="masina_only">üöó<br>Doar Ma»ôinƒÉ</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="casa_only" name="assets" value="casa" required>
              <label for="casa_only">üè†<br>Doar CasƒÉ</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="ambele" name="assets" value="ambele" required>
              <label for="ambele">üè†üöó<br>Ambele</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="nimic" name="assets" value="nimic" required>
              <label for="nimic">‚ùå<br>Nimic</label>
            </div>
          </div>
        </div>
        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="button" class="btn" onclick="nextStep()">ContinuƒÉ</button>
        </div>
      </div>

      <!-- Step 5: Family -->
      <div class="form-step" id="step5">
        <div class="step-header">
          <div class="step-counter">5</div>
          <h2>Ai familie sau copii?</h2>
        </div>
        <div class="form-group">
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" id="cu_familie" name="family" value="da" required>
              <label for="cu_familie">üë®‚Äçüë©‚Äçüëß‚Äçüë¶<br>Da, am familie/copii</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="fara_familie" name="family" value="nu" required>
              <label for="fara_familie">üë§<br>Nu, sunt singur(ƒÉ)</label>
            </div>
          </div>
        </div>
        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="button" class="btn" onclick="nextStep()">ContinuƒÉ</button>
        </div>
      </div>

      <!-- Step 6: Results Preview -->
      <div class="form-step" id="step6">
        <div class="step-header">
          <div class="step-counter">6</div>
          <h2>üéØ Recomandarea Ta PersonalizatƒÉ</h2>
        </div>

        <div class="recommendation-card" id="previewCard">
          <!-- Dynamic content will be inserted here -->
        </div>

        <div class="bonus-section">
          <h3>üéÅ Bonus Exclusiv pentru Tine!</h3>
          <p><strong>Ghidul PDF Gratuit:</strong> "Cum alegi o asigurare potrivitƒÉ fƒÉrƒÉ sƒÉ fii pƒÉcƒÉlit"</p>
          <p>Vei primi acest ghid complet prin email</p>
        </div>

        <div class="step-header" style="margin-top: 40px;">
          <h2>üí¨ Vrei sƒÉ vorbe»ôti cu un specialist?</h2>
          <p style="font-size: 1.1rem; color: #666; margin-top: 15px;">
            Un consultant autorizat te poate ajuta sƒÉ √Æ»õi personalizezi »ôi mai mult asigurƒÉrile »ôi sƒÉ rƒÉspundƒÉ la toate √ÆntrebƒÉrile tale.
          </p>
        </div>

        <div class="form-group">
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" id="specialist_da" name="specialist" value="da" required>
              <label for="specialist_da">‚úÖ<br>Da, vreau sƒÉ vorbesc cu un specialist</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="specialist_nu" name="specialist" value="nu" required>
              <label for="specialist_nu">üìÑ<br>Nu, doar vreau ghidul PDF</label>
            </div>
          </div>
        </div>

        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="button" class="btn" onclick="handleSpecialistChoice()">ContinuƒÉ</button>
        </div>
      </div>

      <!-- Step 7: Contact (only if specialist chosen) -->
      <div class="form-step" id="step7">
        <div class="step-header">
          <div class="step-counter">7</div>
          <h2>üìû Perfect! Datele tale de contact</h2>
          <p style="font-size: 1.1rem; color: #666; margin-top: 15px;">
            Un specialist te va contacta √Æn urmƒÉtoarele 24 de ore pentru o consulta»õie gratuitƒÉ
          </p>
        </div>
        <div class="form-group">
          <label for="name">Nume »ôi Prenume</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
          <label for="phone">Telefon</label>
          <input type="tel" id="phone" name="phone" required>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="submit" class="btn">FinalizeazƒÉ & ContacteazƒÉ-mƒÉ üìû</button>
        </div>
      </div>

      <!-- Step 7 Alternative: Only Email (if no specialist) -->
      <div class="form-step" id="step7-email">
        <div class="step-header">
          <div class="step-counter">7</div>
          <h2>üìß Email pentru Ghidul PDF</h2>
          <p style="font-size: 1.1rem; color: #666; margin-top: 15px;">
            √é»õi vom trimite ghidul PDF gratuit la adresa de email
          </p>
        </div>
        <div class="form-group">
          <label for="email-only">Email</label>
          <input type="email" id="email-only" name="email-only" required>
        </div>
        <div class="navigation">
          <button type="button" class="btn btn-secondary" onclick="prevStep()">√énapoi</button>
          <button type="submit" class="btn">Trimite Ghidul PDF üìÑ</button>
        </div>
      </div>
    </form>
  </div>

  <!-- Results Section -->
  <div class="results" id="results">
    <div class="results-header">
      <h2>üéØ RecomandƒÉrile Tale Personalizate</h2>
      <p>Pe baza rƒÉspunsurilor tale, am identificat asigurƒÉrile ideale pentru profilul tƒÉu</p>
    </div>

    <div class="recommendation-card" id="recommendationCard">
      <!-- Dynamic content will be inserted here -->
    </div>

    <div class="bonus-section">
      <h3>üéÅ Bonus Exclusiv pentru Tine!</h3>
      <p><strong>Ghidul PDF Gratuit:</strong> "Cum alegi o asigurare potrivitƒÉ fƒÉrƒÉ sƒÉ fii pƒÉcƒÉlit"</p>
      <p>Vei primi acest ghid complet prin email √Æn urmƒÉtoarele minute</p>
    </div>

    <div class="contact-section">
      <h3>‚ú® UrmeazƒÉ pasul final!</h3>
      <p>Am generat op»õiunile ideale pentru tine. Un consultant autorizat va lua legƒÉtura cu tine √Æn 24h pentru o discu»õie gratuitƒÉ.</p>
      <p><strong>üì± Prenume:</strong> <span id="userName"></span> | <strong>üìß Email:</strong> <span id="userEmail"></span> | <strong>‚òéÔ∏è Telefon:</strong> <span id="userPhone"></span></p>
      <button class="btn" style="margin-top: 20px; background: rgba(255,255,255,0.2); border: 2px solid white;">
        üìû ProgrameazƒÉ discu»õia acum
      </button>
    </div>
  </div>
</div>

<script>
  let currentStep = 1;
  const totalSteps = 7;
  let wantsSpecialist = false;

  function updateProgress() {
      const progress = (currentStep / totalSteps) * 100;
      document.getElementById('progressFill').style.width = progress + '%';
  }

  function nextStep() {
      const currentStepElement = document.getElementById(`step${currentStep}`);

      // Validate current step
      if (!validateStep(currentStep)) {
          return;
      }

      // Special handling for step 5 - generate preview
      if (currentStep === 5) {
          generatePreview();
      }

      currentStepElement.classList.remove('active');
      currentStep++;

      if (currentStep <= totalSteps) {
          document.getElementById(`step${currentStep}`).classList.add('active');
          updateProgress();
      }
  }

  function handleSpecialistChoice() {
      const specialist = document.querySelector('input[name="specialist"]:checked');
      if (!specialist) {
          alert('Te rugƒÉm sƒÉ selectezi o op»õiune');
          return;
      }

      wantsSpecialist = specialist.value === 'da';

      document.getElementById('step6').classList.remove('active');
      currentStep = 7;

      if (wantsSpecialist) {
          document.getElementById('step7').classList.add('active');
      } else {
          document.getElementById('step7-email').classList.add('active');
      }

      updateProgress();
  }

  function generatePreview() {
      // Collect current form data
      const formData = {
          age: document.getElementById('age').value,
          salary: document.getElementById('salary').value,
          interests: Array.from(document.querySelectorAll('input[name="interests"]:checked')).map(cb => cb.value),
          assets: document.querySelector('input[name="assets"]:checked').value,
          family: document.querySelector('input[name="family"]:checked').value
      };

      // Generate recommendation
      const recommendation = generateRecommendation(formData);

      // Display in preview card
      document.getElementById('previewCard').innerHTML = `
          <div class="recommendation-title">${recommendation.title}</div>
          <div class="recommendation-details">
              ${recommendation.details}
              <br><br><strong>De ce este perfect pentru tine:</strong><br>
              ${recommendation.motivation}
          </div>
      `;
  }

  function prevStep() {
      document.getElementById(`step${currentStep}`).classList.remove('active');
      currentStep--;
      document.getElementById(`step${currentStep}`).classList.add('active');
      updateProgress();
  }

  function validateStep(step) {
      switch(step) {
          case 1:
              const age = document.getElementById('age').value;
              if (!age || age < 18 || age > 100) {
                  alert('Te rugƒÉm sƒÉ introduci o v√¢rstƒÉ validƒÉ (18-100 ani)');
                  return false;
              }
              break;
          case 2:
              const salary = document.getElementById('salary').value;
              if (!salary) {
                  alert('Te rugƒÉm sƒÉ selectezi intervalul salariului');
                  return false;
              }
              break;
          case 3:
              const interests = document.querySelectorAll('input[name="interests"]:checked');
              if (interests.length === 0) {
                  alert('Te rugƒÉm sƒÉ selectezi cel pu»õin o op»õiune');
                  return false;
              }
              break;
          case 4:
              const assets = document.querySelector('input[name="assets"]:checked');
              if (!assets) {
                  alert('Te rugƒÉm sƒÉ selectezi o op»õiune');
                  return false;
              }
              break;
          case 5:
              const family = document.querySelector('input[name="family"]:checked');
              if (!family) {
                  alert('Te rugƒÉm sƒÉ selectezi o op»õiune');
                  return false;
              }
              break;
          case 6:
              const specialist = document.querySelector('input[name="specialist"]:checked');
              if (!specialist) {
                  alert('Te rugƒÉm sƒÉ selectezi o op»õiune');
                  return false;
              }
              break;
          case 7:
              if (wantsSpecialist) {
                  const name = document.getElementById('name').value;
                  const phone = document.getElementById('phone').value;
                  const email = document.getElementById('email').value;
                  if (!name || !phone || !email) {
                      alert('Te rugƒÉm sƒÉ completezi toate c√¢mpurile de contact');
                      return false;
                  }
              } else {
                  const emailOnly = document.getElementById('email-only').value;
                  if (!emailOnly) {
                      alert('Te rugƒÉm sƒÉ introduci adresa de email');
                      return false;
                  }
              }
              break;
      }
      return true;
  }

  function generateRecommendation(formData) {
      const age = parseInt(formData.age);
      const salary = formData.salary;
      const interests = formData.interests;
      const assets = formData.assets;
      const family = formData.family === 'da';

      // CalculƒÉm profilul de risc »ôi capacitatea financiarƒÉ
      const riskProfile = calculateRiskProfile(age, salary, family, assets);
      const monthlyBudget = getMonthlyBudget(salary);

      let recommendation = {
          title: '',
          primaryInsurance: [],
          savingsPlans: [],
          details: '',
          motivation: '',
          monthlyInvestment: '',
          timeline: '',
          specificProducts: []
      };

      // AnalizƒÉ comprehensivƒÉ bazatƒÉ pe v√¢rstƒÉ »ôi profil
      if (age < 30) {
          recommendation.title = `Pachet Start Inteligent (${age} ani)`;

          if (riskProfile === 'conservator') {
              recommendation.primaryInsurance = ['SƒÉnƒÉtate de bazƒÉ', 'Via»õƒÉ term'];
              recommendation.savingsPlans = ['Pilon III conservator', 'Depozit structurat'];
              recommendation.monthlyInvestment = `${Math.round(monthlyBudget * 0.15)}-${Math.round(monthlyBudget * 0.20)} RON/lunƒÉ`;
          } else if (riskProfile === 'moderat') {
              recommendation.primaryInsurance = ['SƒÉnƒÉtate Premium', 'Via»õƒÉ cu acumulare'];
              recommendation.savingsPlans = ['Pilon III mixt', 'Fond de investi»õii echilibrat'];
              recommendation.monthlyInvestment = `${Math.round(monthlyBudget * 0.20)}-${Math.round(monthlyBudget * 0.25)} RON/lunƒÉ`;
          } else {
              recommendation.primaryInsurance = ['SƒÉnƒÉtate International', 'Via»õƒÉ investment-linked'];
              recommendation.savingsPlans = ['Pilon III agresiv', 'ETF-uri »ôi ac»õiuni'];
              recommendation.monthlyInvestment = `${Math.round(monthlyBudget * 0.25)}-${Math.round(monthlyBudget * 0.35)} RON/lunƒÉ`;
          }

          recommendation.timeline = '35-40 ani orizont investi»õional';
          recommendation.specificProducts = getSpecificProducts(age, salary, interests, assets, family);

      } else if (age >= 30 && age <= 45) {
          recommendation.title = `Pachet Consolidare (${age} ani)`;

          if (family) {
              recommendation.primaryInsurance = ['SƒÉnƒÉtate Familie', 'Via»õƒÉ substan»õialƒÉ', 'Educa»õie copii'];
              recommendation.savingsPlans = ['Pilon III familie', 'Plan educa»õional copii', 'Fond de urgen»õƒÉ'];
          } else {
              recommendation.primaryInsurance = ['SƒÉnƒÉtate Premium', 'Via»õƒÉ cu acumulare'];
              recommendation.savingsPlans = ['Pilon III performant', 'Investi»õii diversificate'];
          }

          recommendation.monthlyInvestment = `${Math.round(monthlyBudget * 0.25)}-${Math.round(monthlyBudget * 0.30)} RON/lunƒÉ`;
          recommendation.timeline = '20-25 ani p√¢nƒÉ la pensie';
          recommendation.specificProducts = getSpecificProducts(age, salary, interests, assets, family);

      } else if (age >= 45 && age <= 60) {
          recommendation.title = `Pachet Pre-Pensionare (${age} ani)`;

          recommendation.primaryInsurance = ['SƒÉnƒÉtate extinsƒÉ', 'Via»õƒÉ permanentƒÉ', '√éngrijire pe termen lung'];
          recommendation.savingsPlans = ['Pilon III intensiv', 'Planuri de rentƒÉ', 'Protec»õie patrimoniu'];
          recommendation.monthlyInvestment = `${Math.round(monthlyBudget * 0.30)}-${Math.round(monthlyBudget * 0.40)} RON/lunƒÉ`;
          recommendation.timeline = `${65-age} ani p√¢nƒÉ la pensie`;
          recommendation.specificProducts = getSpecificProducts(age, salary, interests, assets, family);

      } else {
          recommendation.title = `Pachet Senior & Mo»ôtenire (${age} ani)`;

          recommendation.primaryInsurance = ['SƒÉnƒÉtate senior', '√éngrijire medicalƒÉ la domiciliu'];
          recommendation.savingsPlans = ['RentƒÉ viagerƒÉ', 'Planuri de mo»ôtenire'];
          recommendation.monthlyInvestment = `${Math.round(monthlyBudget * 0.20)}-${Math.round(monthlyBudget * 0.30)} RON/lunƒÉ`;
          recommendation.timeline = 'Focus pe protec»õie »ôi transmitere';
          recommendation.specificProducts = getSpecificProducts(age, salary, interests, assets, family);
      }

      // Construim detaliile personalizate
      recommendation.details = buildDetailedRecommendation(recommendation, formData);
      recommendation.motivation = buildMotivation(age, salary, family, assets, interests);

      return recommendation;
  }

  function calculateRiskProfile(age, salary, family, assets) {
      let score = 0;

      // V√¢rsta influen»õeazƒÉ toleran»õa la risc
      if (age < 35) score += 3;
      else if (age < 50) score += 2;
      else score += 1;

      // Salariul
      if (salary === 'peste8000') score += 3;
      else if (salary === '5000-8000') score += 2;
      else if (salary === '3000-5000') score += 1;

      // Familia reduce toleran»õa la risc
      if (family) score -= 1;

      // Activele existente
      if (assets === 'ambele') score += 1;

      if (score >= 5) return 'agresiv';
      if (score >= 3) return 'moderat';
      return 'conservator';
  }

  function getMonthlyBudget(salary) {
      const budgets = {
          'sub1500': 1200,
          '1500-3000': 2250,
          '3000-5000': 4000,
          '5000-8000': 6500,
          'peste8000': 10000
      };
      return budgets[salary] || 2000;
  }

  function getSpecificProducts(age, salary, interests, assets, family) {
      let products = [];

      // Produse specifice pe baza intereselor
      if (interests.includes('pensii')) {
          if (age < 35) {
              products.push('NN Pilon III - Fond Activ (randament 8-12% anual)');
          } else {
              products.push('BCR Pensii - Fond Echilibrat (randament 6-10% anual)');
          }
      }

      if (interests.includes('sanatate')) {
          if (salary === 'peste8000' || salary === '5000-8000') {
              products.push('Regina Maria Premium (acoperire interna»õionalƒÉ)');
          } else {
              products.push('MedLife Classic (acoperire na»õionalƒÉ completƒÉ)');
          }
      }

      if (interests.includes('viata')) {
          if (family) {
              products.push(`Asigurare via»õƒÉ ${Math.round(getMonthlyBudget(salary) * 60)} RON (10x venitul anual)`);
          } else {
              products.push(`Asigurare via»õƒÉ ${Math.round(getMonthlyBudget(salary) * 30)} RON (5x venitul anual)`);
          }
      }

      if (interests.includes('vacanta')) {
          products.push('Euroins Travel - Acoperire anualƒÉ 150 EUR');
      }

      if (assets === 'casa' || assets === 'ambele') {
          products.push('Omniasig Locuin»õƒÉ - Acoperire completƒÉ cutremur + incendiu');
      }

      if (assets === 'masina' || assets === 'ambele') {
          products.push('City Insurance CASCO + RCA pachet complet');
      }

      return products;
  }

  function buildDetailedRecommendation(rec, formData) {
      let details = `<strong>üéØ Plan personalizat pentru profilul tƒÉu:</strong><br><br>`;

      details += `<strong>üìä Investi»õie lunarƒÉ recomandatƒÉ:</strong> ${rec.monthlyInvestment}<br>`;
      details += `<strong>‚è∞ Orizont temporal:</strong> ${rec.timeline}<br><br>`;

      details += `<strong>üõ°Ô∏è AsigurƒÉri prioritare:</strong><br>`;
      rec.primaryInsurance.forEach(ins => {
          details += `‚Ä¢ ${ins}<br>`;
      });

      details += `<br><strong>üí∞ Planuri de economii/investi»õii:</strong><br>`;
      rec.savingsPlans.forEach(plan => {
          details += `‚Ä¢ ${plan}<br>`;
      });

      if (rec.specificProducts.length > 0) {
          details += `<br><strong>üèÜ Produse recomandate specific:</strong><br>`;
          rec.specificProducts.forEach(product => {
              details += `‚Ä¢ ${product}<br>`;
          });
      }

      return details;
  }

  function buildMotivation(age, salary, family, assets, interests) {
      let motivation = '';

      if (age < 30) {
          motivation = `La ${age} ani, ai avantajul timpului! RecomandƒÉrile noastre profitƒÉ de orizontul lung de investi»õii pentru a-»õi maximiza randamentele. `;
      } else if (age < 45) {
          motivation = `√én aceastƒÉ etapƒÉ de consolidare (${age} ani), e crucial sƒÉ echilibrezi protec»õia cu acumularea. `;
      } else if (age < 60) {
          motivation = `Apropiindu-te de pensionare (${age} ani), focusul se mutƒÉ pe siguran»õƒÉ »ôi optimizarea planurilor existente. `;
      } else {
          motivation = `La ${age} ani, prioritatea este protec»õia patrimoniului »ôi planificarea mo»ôtenirii. `;
      }

      if (family) {
          motivation += `Av√¢nd familie, am crescut sumele de protec»õie »ôi am inclus planuri educa»õionale pentru copii. `;
      }

      const budgetLevel = getMonthlyBudget(salary);
      if (budgetLevel > 6000) {
          motivation += `Cu venitul tƒÉu, po»õi accesa produse premium cu beneficii extinse »ôi flexibilitate maximƒÉ.`;
      } else if (budgetLevel > 3000) {
          motivation += `Venitul tƒÉu permite o abordare echilibratƒÉ √Æntre protec»õie »ôi investi»õii.`;
      } else {
          motivation += `Am optimizat recomandƒÉrile pentru bugetul tƒÉu, focus√¢ndu-ne pe eficien»õa costurilor »ôi beneficiile fiscale.`;
      }

      return motivation;
  }

  document.getElementById('insuranceForm').addEventListener('submit', function(e) {
      e.preventDefault();

      if (!validateStep(7)) {
          return;
      }

      // Collect form data
      const formData = {
          age: document.getElementById('age').value,
          salary: document.getElementById('salary').value,
          interests: Array.from(document.querySelectorAll('input[name="interests"]:checked')).map(cb => cb.value),
          assets: document.querySelector('input[name="assets"]:checked').value,
          family: document.querySelector('input[name="family"]:checked').value,
          specialist: wantsSpecialist
      };

      if (wantsSpecialist) {
          formData.name = document.getElementById('name').value;
          formData.phone = document.getElementById('phone').value;
          formData.email = document.getElementById('email').value;
      } else {
          formData.email = document.getElementById('email-only').value;
      }

      // Generate recommendation
      const recommendation = generateRecommendation(formData);

      // Display results
      document.querySelector('.form-container').style.display = 'none';
      document.getElementById('results').classList.add('show');

      // Populate recommendation card
      document.getElementById('recommendationCard').innerHTML = `
          <div class="recommendation-title">${recommendation.title}</div>
          <div class="recommendation-details">
              ${recommendation.details}
              <br><br><strong>De ce este perfect pentru tine:</strong><br>
              ${recommendation.motivation}
          </div>
      `;

      // Update contact section based on choice
      const contactSection = document.querySelector('.contact-section');
      if (wantsSpecialist) {
          // Populate contact info
          document.getElementById('userName').textContent = formData.name.split(' ')[0];
          document.getElementById('userEmail').textContent = formData.email;
          document.getElementById('userPhone').textContent = formData.phone;
          contactSection.style.display = 'block';
      } else {
          contactSection.innerHTML = `
              <h3>üìß Ghidul PDF a fost trimis!</h3>
              <p>Vei primi √Æn scurt timp la adresa <strong>${formData.email}</strong> ghidul complet "Cum alegi o asigurare potrivitƒÉ fƒÉrƒÉ sƒÉ fii pƒÉcƒÉlit".</p>
              <p style="margin-top: 20px;">DacƒÉ √Æ»õi schimbi pƒÉrerea »ôi vrei sƒÉ vorbe»ôti cu un specialist, ne po»õi contacta oric√¢nd!</p>
          `;
      }

      // Scroll to results
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
  });

  // Initialize progress
  updateProgress();
</script>
</body>
</html>